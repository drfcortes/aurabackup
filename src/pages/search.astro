---
import Layout from '../layouts/Layout.astro';
---

<Layout>
    <main class="p-8 max-w-4xl mx-auto text-aura-black bg-aura-soft rounded-2xl shadow">
        <h1 class="text-3xl font-bold text-aura-deep mb-6">Find an AURA Block</h1>

        <section class="prose prose-lg max-w-none text-justify text-aura-black mb-8">
            <p>
                Enter the <strong>UID</strong> of an AURA block to view its metadata and traceability record.
                AURA blocks are public records of AI-assisted content generation, including details like model used,
                prompts, timestamps, and licenses.
            </p>
            <p>
                This search interface does not require an account. If you want to register and preserve your own blocks permanently, you can <a href="/register">create an account</a>.
            </p>
        </section>

        <section class="bg-white p-6 rounded-xl shadow border">
            <h2 class="text-xl font-semibold text-aura-green mb-4">Lookup by UID</h2>

            <form id="blockForm" class="space-y-4">
                <label for="uidInput" class="block text-sm font-medium text-aura-gray">Enter the block UID:</label>
                <input
                        id="uidInput"
                        type="text"
                        placeholder="Example: AURA-2025-000001"
                        class="w-full px-4 py-2 border border-aura-olive rounded-md bg-white text-aura-black focus:outline-none"
                />
                <button
                        type="submit"
                        class="bg-aura-green text-white px-6 py-2 rounded hover:bg-aura-deep transition"
                >
                    View Block
                </button>
            </form>

            <div class="mt-6 text-sm text-aura-gray">
                Example UID: <code class="bg-gray-100 px-2 py-1 rounded">AURA-2025-000001</code>
            </div>
        </section>
    </main>

    <!-- âœ… Script funcional compatible con Astro -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const form = document.getElementById("blockForm");
            const input = document.getElementById("uidInput");

            form.addEventListener("submit", (e) => {
                e.preventDefault();
                const uid = input.value.trim();
                if (uid) {
                    window.location.href = `/block/${uid}`;
                } else {
                    alert("Please enter a UID.");
                }
            });
        });
    </script>
</Layout>
