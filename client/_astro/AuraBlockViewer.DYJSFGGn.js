import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.RH_Wq4ov.js";function x({jsonData:n}){const r=async()=>{try{const o=JSON.stringify(n,null,2);await navigator.clipboard.writeText(o),alert("‚úÖ Copied to clipboard!")}catch(o){alert("‚ùå Failed to copy AURA."),console.error("Clipboard error:",o)}},l=()=>{const o=JSON.stringify(n,null,2),c=new Blob([o],{type:"application/json"}),a=URL.createObjectURL(c),s=`${n?.uid||"aura_block"}.aura`,t=document.createElement("a");t.href=a,t.download=s,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)};return e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",title:"Copy AURA to clipboard",children:"üìã Copy"}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Download .aura file",children:"‚¨áÔ∏è Download .aura"}),e.jsx("button",{onClick:()=>window.location.href="/generate",className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",title:"Generate new AURA block",children:"‚ú® Generate New Block"})]})}function h({uidFromPage:n}){const[r,l]=d.useState(null),[o,c]=d.useState(!0),a=n||window.location.pathname.split("/").pop();return d.useEffect(()=>{async function s(){try{const i=await(await fetch(`https://qyx30mhh90.execute-api.us-east-2.amazonaws.com/v1/getAuraBlockByUID/${a}`)).json(),p=i?.Item??i;p?.uid?l(p):console.warn("‚ùå No valid block found in response:",i)}catch(t){console.error("Error fetching block:",t)}finally{c(!1)}}s()},[a]),o?e.jsx("p",{children:"Loading block..."}):r?e.jsxs("section",{className:"bg-white p-6 rounded-xl shadow border border-gray-300 space-y-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-aura-olive",children:["Metadata for ",e.jsx("span",{className:"text-aura-deep",children:a})]}),e.jsx("div",{className:"space-y-2 text-sm",children:Object.entries(r).map(([s,t])=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[e.jsxs("span",{className:"sm:w-40 font-semibold text-aura-deep",children:[s,":"]}),e.jsx("span",{className:"text-gray-800 break-all",children:typeof t=="boolean"?t.toString():typeof t=="object"?JSON.stringify(t,null,2):t})]},s))}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(x,{jsonData:r})}),e.jsxs("details",{className:"mt-6",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-aura-olive hover:text-aura-deep underline",children:"üîç Ver JSON completo"}),e.jsx("pre",{className:"mt-2 bg-gray-100 p-4 rounded text-xs overflow-auto",children:JSON.stringify(r,null,2)})]})]}):e.jsx("p",{className:"text-red-600",children:"‚ö†Ô∏è Error: Block not found."})}export{h as default};
