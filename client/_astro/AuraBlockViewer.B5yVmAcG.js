import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.DtoOFyvK.js";function j({uidFromPage:d}){const[n,p]=s.useState(d||""),[r,c]=s.useState(null),[g,i]=s.useState(!1),[u,m]=s.useState(""),[l,x]=s.useState(""),b=async o=>{if(o.trim()){i(!0),m("");try{const t=await fetch(`https://qyx30mhh90.execute-api.us-east-2.amazonaws.com/v1/getAuraBlockByUID/${o}`);if(!t.ok)throw new Error("Block not found or server error");const a=await t.json();c(a);const k=a.timestamp?new Date(a.timestamp).getFullYear():"n.d.",f=`${a.model||"Unknown Model"} (${k}). ${a.uid}. Retrieved from https://aurablock.org/block/${a.uid}`;x(f)}catch(t){console.error("Error fetching block:",t),m("âš ï¸ No AURA block found with that UID."),c(null),x("")}i(!1)}};s.useEffect(()=>{d&&b(d)},[d]);const h=()=>{l&&navigator.clipboard.writeText(l).then(()=>{alert("AURA Reference copied to clipboard!")})};return e.jsxs("div",{className:"space-y-6 p-6 bg-aura-soft dark:bg-aura-deep rounded-xl shadow-lg border border-aura-beige dark:border-aura-gray",children:[e.jsx("h2",{className:"text-2xl font-bold text-aura-green dark:text-aura-yellow",children:"AURA Block Viewer"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"text",value:n,onChange:o=>p(o.target.value),placeholder:"Enter AURA Block UID",className:"flex-1 px-4 py-2 border border-aura-olive dark:border-aura-gray rounded-md bg-white dark:bg-aura-deep text-aura-deep dark:text-aura-cream"}),e.jsx("button",{onClick:()=>b(n),className:"px-6 py-2 bg-aura-green dark:bg-aura-leather text-white rounded-md hover:bg-aura-deep dark:hover:bg-aura-yellow transition",children:"Search"})]}),g&&e.jsx("p",{className:"italic",children:"Loading..."}),u&&e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:u}),r&&e.jsxs(e.Fragment,{children:[e.jsx("table",{className:"min-w-full border border-aura-olive dark:border-aura-gray rounded-lg overflow-hidden",children:e.jsx("tbody",{children:Object.entries({UID:r.uid,Model:r.model,Provider:r.provider,Prompt:r.prompt,"Output Text":r.output_text?"(Click to expand below)":null,Timestamp:r.timestamp,License:r.license,Email:r.email,Notes:r.notes,"Content Hash":r.content_hash,Language:r.language,Country:r.country,"Browser Info":r.browser_info,"Content Type":r.content_type,"Generation Context":r.generation_context}).map(([o,t],a)=>t&&e.jsxs("tr",{className:"border-t border-aura-olive dark:border-aura-gray",children:[e.jsx("td",{className:"px-4 py-2 font-semibold bg-aura-beige dark:bg-aura-olive w-1/3",children:o}),e.jsx("td",{className:"px-4 py-2",children:t})]},a))})}),r.output_text&&e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-aura-green dark:text-aura-yellow",children:"Show Output"}),e.jsx("pre",{className:"bg-aura-beige dark:bg-aura-gray p-3 rounded mt-2 whitespace-pre-wrap",children:r.output_text})]}),r.image_url&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:r.image_url,alt:"AURA content",className:"rounded max-w-full"})}),e.jsxs("div",{className:"mt-6 p-4 bg-aura-beige dark:bg-aura-olive rounded-lg border border-aura-olive dark:border-aura-gray",children:[e.jsx("h4",{className:"text-lg font-semibold text-aura-green dark:text-aura-yellow mb-2",children:"ðŸ“„ AURA Reference"}),e.jsx("p",{className:"text-sm mb-3",children:"This is the recommended way to cite this AURA block in your documents."}),e.jsx("pre",{className:"bg-white dark:bg-aura-deep text-sm p-3 rounded-md overflow-x-auto border border-aura-olive dark:border-aura-gray",children:l}),e.jsx("button",{onClick:h,className:"mt-3 bg-aura-green dark:bg-aura-leather text-white px-4 py-2 rounded hover:bg-aura-deep dark:hover:bg-aura-yellow transition",children:"ðŸ“‹ Copy AURA Reference"})]}),e.jsx("h3",{className:"text-lg font-semibold text-aura-green dark:text-aura-yellow mt-6",children:"Raw Metadata"}),e.jsx("pre",{className:"bg-white dark:bg-aura-deep text-sm text-aura-black dark:text-aura-cream p-4 rounded-md border border-aura-beige dark:border-aura-gray max-h-[400px] overflow-auto",children:JSON.stringify(r,null,2)})]})]})}export{j as default};
